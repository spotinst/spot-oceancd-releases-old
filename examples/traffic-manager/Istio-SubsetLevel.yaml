
---
rolloutSpec:
  name: RolloutSpec-OceanCD
  spotDeployment:
    clusterId: cluster-name
    namespace: mynamespace
    name: nginx-deployment
  strategy:
    name: Strategy-OceanCD
  traffic:
    canaryService: rollouts-demo-canary
    stableService: rollouts-demo-stable
    istio:
      virtualServices:
      - name: rollouts-demo-vsvc
        routes:
        - primary
        tlsRoutes:
        - port: 443
          sniHosts:
          - spot.io
      destinationRule:
        name: rollout-destrule
        canarySubsetName: canary
        stableSubsetName: stable
  failurePolicy:
    action: abort